
if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!=-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1);DayPilot.mo2=function($a,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $b={x:ev.offsetX+1,y:ev.offsetY+1};if(!$a){return $b;};var $c=ev.srcElement;while($c&&$c!=$a){if($c.tagName!='SPAN'){$b.x+=$c.offsetLeft;if($c.offsetTop>0){$b.y+=$c.offsetTop-$c.scrollTop;}};$c=$c.offsetParent;};if($c){return $b;};return null;};if(typeof(ev.layerX)!=='undefined'){var $b={x:ev.layerX,y:ev.layerY,$d:ev.target};if(!$a){return $b;};var $c=ev.target;while($c&&$c.style.position!='absolute'&&$c.style.position!='relative'){$c=$c.parentNode;if(DayPilot.isKhtml){$b.y+=$c.scrollTop;}}while($c&&$c!=$a){$b.x+=$c.offsetLeft;$b.y+=$c.offsetTop-$c.scrollTop;$c=$c.offsetParent;};if($c){return $b;};return null;};return null;};DayPilot.mo3=function($a,ev,$e){ev=ev||window.event;if(typeof(ev.pageX)!=='undefined'){var $f=DayPilot.abs($a,$e);var $b={x:ev.pageX-$f.x,y:ev.pageY-$f.y};return $b;};return DayPilot.mo2($a,ev);};DayPilot.abs=function(element,$g){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=element.getBoundingClientRect();r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $h=DayPilot.pageOffset();r.x+=$h.x;r.y+=$h.y;if($g){var $i=DayPilot.absOffsetBased(element,false);var $g=DayPilot.absOffsetBased(element,true);r.x+=$g.x-$i.x;r.y+=$g.y-$i.y;r.w=$g.w;r.h=$g.h;};return r;}else{return DayPilot.absOffsetBased(element,$g);}};DayPilot.absOffsetBased=function(element,$g){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(element.offsetParent){element=element.offsetParent;r.x-=element.scrollLeft;r.y-=element.scrollTop;if($g){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $h=DayPilot.pageOffset();r.x+=$h.x;r.y+=$h.y;return r;};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.indexOf=function($j,$k){if(!$j||!$j.length){return -1;};for(var i=0;i<$j.length;i++){if($j[i]===$k){return i;}};return -1;};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.re=function(el,ev,$l){if(el.addEventListener){el.addEventListener(ev,$l,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$l);}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $m=DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth-2;};DayPilot.Selection=function($n,end,$o,$p){this.type='selection';this.start=$n.isDayPilotDate?$n:new DayPilot.Date($n);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$o;this.root=$p;this.toJSON=function($q){var $r={};$r.start=this.start;$r.end=this.end;$r.resource=this.resource;return $r;};};DayPilot.request=function($s,$t,$u,$v){var $w=DayPilot.createXmlHttp();if(!$w){return;};$w.open("POST",$s,true);$w.setRequestHeader('Content-type','text/plain');$w.onreadystatechange=function(){if($w.readyState!=4)return;if($w.status!=200&&$w.status!=304){if($v){$v($w);}else{alert('HTTP error '+$w.status);};return;};$t($w);};if($w.readyState==4){return;};$w.send($u);};DayPilot.createXmlHttp=function(){var $x;try{$x=new XMLHttpRequest();}catch(e){try{$x=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $x;};DayPilot.Date=function($y,$z){this.isDayPilotDate=true;if(typeof $y==='undefined'){this.d=DayPilot.Date.fromLocal();}else if(typeof $y==="string"){return DayPilot.Date.fromStringSortable($y);}else if($y.isDayPilotDate){return $y;}else if(!$y.getFullYear){throw "date parameter is not a Date object: "+$y;}else if($z){this.d=DayPilot.Date.fromLocal($y);}else{this.d=$y;};this.ticks=this.d.getTime();};DayPilot.Date.prototype.addDays=function($A){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$A));};DayPilot.Date.prototype.addHours=function($B){return this.addTime($B*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($C){return this.addTime($C);};DayPilot.Date.prototype.addMinutes=function($D){return this.addTime($D*60*1000);};DayPilot.Date.prototype.addMonths=function($E){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$E));};DayPilot.Date.prototype.addSeconds=function($F){return this.addTime($F*1000);};DayPilot.Date.prototype.addTime=function($G){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$G));};DayPilot.Date.prototype.addYears=function($H){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$H);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($I){if($I===null){return false;};if($I.isDayPilotDate){return DayPilot.Date.equals(this.d,$I.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $J=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($J);};DayPilot.Date.prototype.firstDayOfYear=function(){var $K=this.getYear();var d=new Date();d.setUTCFullYear($K,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($L){var $J=DayPilot.Date.firstDayOfWeek(this.d,$L);return new DayPilot.Date($J);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){if(typeof this.ticks!=='number'){throw "Uninitialized DayPilot.Date (internal error)";};return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $J=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($J);};DayPilot.Date.prototype.weekNumber=function(){var $M=this.firstDayOfYear();var $A=(this.getTime()-$M.getTime())/86400000;return Math.ceil(($A+$M.dayOfWeek()+1)/7);};DayPilot.Date.prototype.weekNumberISO=function(){var $N=false;var $O=this.dayOfYear();var $P=this.firstDayOfYear().dayOfWeek();var $Q=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($P==0){$P=7;};if($Q==0){$Q=7;};var $R=8-($P);if($P==4||$Q==4){$N=true;};var $S=Math.ceil(($O-($R))/7.0);var $T=$S;if($R>=4){$T=$T+1;};if($T>52&&!$N){$T=1;};if($T==0){$T=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $T;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function(){return this.toStringSortable();};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.fromStringSortable=function($U){var $V=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/;var $y=/^(\d{4})-(\d{2})-(\d{2})$/;var $W=$V.test($U);var $X=$y.test($U);var $Y=$W||$X;if(!$Y){throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'.";};var $Z=$W?$V:$y;var m=$Z.exec($U);var d=new Date();d.setUTCFullYear(m[1],m[2]-1,m[3]);d.setUTCHours(m[4]?m[4]:0);d.setUTCMinutes(m[5]?m[5]:0);d.setUTCSeconds(m[6]?m[6]:0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.addDays=function($y,$A){var d=new Date();d.setTime($y.getTime()+$A*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($y,$D){var d=new Date();d.setTime($y.getTime()+$D*60*1000);return d;};DayPilot.Date.addMonths=function($y,$E){if($E==0)return $y;var y=$y.getUTCFullYear();var m=$y.getUTCMonth()+1;if($E>0){while($E>=12){$E-=12;y++;};if($E>12-m){y++;m=$E-(12-m);}else{m+=$E;}}else{while($E<=-12){$E+=12;y--;};if(m<=$E){y--;m=12-($E+m);}else{m=m+$E;}};var d=DayPilot.Date.clone($y);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($y,$00){var d=new Date();d.setTime($y.getTime()+$00);return d;};DayPilot.Date.clone=function($01){var d=new Date();return DayPilot.Date.dateFromTicks($01.getTime());};DayPilot.Date.daysDiff=function($M,$02){if($M.getTime()>$02.getTime()){return null;};var i=0;var $03=DayPilot.Date.getDate($M);var $04=DayPilot.Date.getDate($02);while($03<$04){$03=DayPilot.Date.addDays($03,1);i++;};return i;};DayPilot.Date.daysInMonth=function($K,$05){if($K.getUTCFullYear){$05=$K.getUTCMonth()+1;$K=$K.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($05!=2)return m[$05-1];if($K%4!=0)return m[1];if($K%100==0&&$K%400!=0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($M,$02){if($M.getTime()==$02.getTime()){return 0;};var $06=DayPilot.Date.daysDiff($M,$02);if(DayPilot.Date.equals($02,DayPilot.Date.getDate($02))){$06--;};return $06;};DayPilot.Date.diff=function($M,$02){if(!($M&&$02&&$M.getTime&&$02.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $M.getTime()-$02.getTime();};DayPilot.Date.equals=function($M,$02){return $M.getTime()==$02.getTime();};DayPilot.Date.fromLocal=function($07){if(!$07){$07=new Date();};var d=new Date();d.setUTCFullYear($07.getFullYear(),$07.getMonth(),$07.getDate());d.setUTCHours($07.getHours());d.setUTCMinutes($07.getMinutes());d.setUTCSeconds($07.getSeconds());d.setUTCMilliseconds($07.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($K,$05){var d=new Date();d.setUTCFullYear($K,$05-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$L){var $08=d.getUTCDay();while($08!=$L){d=DayPilot.Date.addDays(d,-1);$08=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($G){var d=new Date();d.setTime($G);return d;};DayPilot.Date.getDate=function($01){var d=DayPilot.Date.clone($01);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($K,$05,$L){var $09=DayPilot.Date.firstDayOfMonth($K,$05);d=DayPilot.Date.firstDayOfWeek($09,$L);return d;};DayPilot.Date.getTime=function($01){var $y=DayPilot.Date.getDate($01);return DayPilot.Date.diff($01,$y);};DayPilot.Date.hours=function($y,$0a){var $0b=$y.getUTCMinutes();if($0b<10)$0b="0"+$0b;var $0c=$y.getUTCHours();if($0a){var am=$0c<12;var $0c=$0c%12;if($0c==0){$0c=12;};var $0d=am?"AM":"PM";return $0c+':'+$0b+' '+$0d;}else{return $0c+':'+$0b;}};DayPilot.Date.lastDayOfMonth=function($K,$05){var d=DayPilot.Date.firstDayOfMonth($K,$05);var length=DayPilot.Date.daysInMonth($K,$05);d.setUTCDate(length);return d;};DayPilot.Date.max=function($M,$02){if($M.getTime()>$02.getTime()){return $M;}else{return $02;}};DayPilot.Date.min=function($M,$02){if($M.getTime()<$02.getTime()){return $M;}else{return $02;}};DayPilot.Date.today=function(){var $0e=new Date();var d=new Date();d.setUTCFullYear($0e.getFullYear());d.setUTCMonth($0e.getMonth());d.setUTCDate($0e.getDate());return d;};DayPilot.Date.toLocal=function($y){if(!$y){$y=new Date();};var d=new Date();d.setFullYear($y.getUTCFullYear(),$y.getUTCMonth(),$y.getUTCDate());d.setHours($y.getUTCHours());d.setMinutes($y.getUTCMinutes());d.setSeconds($y.getUTCSeconds());d.setMilliseconds($y.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($y){if($y.isDayPilotDate){return $y.toStringSortable();};var d=$y;var $02=d.getUTCSeconds();if($02<10)$02="0"+$02;var $0b=d.getUTCMinutes();if($0b<10)$0b="0"+$0b;var $0c=d.getUTCHours();if($0c<10)$0c="0"+$0c;var $08=d.getUTCDate();if($08<10)$08="0"+$08;var $05=d.getUTCMonth()+1;if($05<10)$05="0"+$05;var $K=d.getUTCFullYear();if($K<=0){throw "The minimum year supported is 1.";};if($K<10){$K="000"+$K;}else if($K<100){$K="00"+$K;}else if($K<1000){$K="0"+$K;};return $K+"-"+$05+"-"+$08+'T'+$0c+":"+$0b+":"+$02;};})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($q){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($q){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0g,$0h,$0i={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$0j;function quote($U){$0f.lastIndex=0;return $0f.test($U)?'"'+$U.replace($0f,function(a){var c=$0i[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$U+'"';};function str($q,$0k){var i,k,v,length,$0l=$0g,$0m,$0n=$0k[$q];if($0n&&typeof $0n==='object'&&typeof $0n.toJSON2==='function'){$0n=$0n.toJSON2($q);}else if($0n&&typeof $0n==='object'&&typeof $0n.toJSON==='function'&&!$0n.ignoreToJSON){$0n=$0n.toJSON($q);};if(typeof $0j==='function'){$0n=$0j.call($0k,$q,$0n);};switch(typeof $0n){case 'string':return quote($0n);case 'number':return isFinite($0n)?String($0n):'null';case 'boolean':case 'null':return String($0n);case 'object':if(!$0n){return 'null';};$0g+=$0h;$0m=[];if(typeof $0n.length==='number'&&!$0n.propertyIsEnumerable('length')){length=$0n.length;for(i=0;i<length;i+=1){$0m[i]=str(i,$0n)||'null';};v=$0m.length===0?'[]':$0g?'[\n'+$0g+$0m.join(',\n'+$0g)+'\n'+$0l+']':'['+$0m.join(',')+']';$0g=$0l;return v;};if($0j&&typeof $0j==='object'){length=$0j.length;for(i=0;i<length;i+=1){k=$0j[i];if(typeof k==='string'){v=str(k,$0n);if(v){$0m.push(quote(k)+($0g?': ':':')+v);}}}}else{for(k in $0n){if(Object.hasOwnProperty.call($0n,k)){v=str(k,$0n);if(v){$0m.push(quote(k)+($0g?': ':':')+v);}}}};v=($0m.length===0)?'{\u007D':$0g?'{\n'+$0g+$0m.join(',\n'+$0g)+'\n'+$0l+'\u007D':'{'+$0m.join(',')+'\u007D';$0g=$0l;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($0n,$0o,$0p){var i;$0g='';$0h='';if(typeof $0p==='number'){for(i=0;i<$0p;i+=1){$0h+=' ';}}else if(typeof $0p==='string'){$0h=$0p;};$0j=$0o;if($0o&&typeof $0o!=='function'&&(typeof $0o!=='object'||typeof $0o.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$0n});};}})();


