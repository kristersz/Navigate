
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilotMonth.Month=function($b){this.nav={};this.nav.top=document.getElementById($b);var $c=this;this.id=$b;this.isMonth=true;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#F3F3F9';this.headerFontColor='#42658C';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='#CED2CE';this.eventHeight=20;this.cellHeaderHeight=16;this.afterRender=function(){};this.backColor='#ffffff';this.nonBusinessBackColor='#ffffff';this.cellHeaderBackColor='#ffffff';this.cellHeaderFontColor='#42658C';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.eventBackColor='#2951A5';this.eventBorderColor='#2951A5';this.eventFontColor='#ffffff';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.eventHeight=16;this.cellWidth=14.285;this.lineSpace=1;this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.eventClickHandling='Disabled';this.eventMoveHandling='Disabled';this.eventResizeHandling='Disabled';this.timeRangeSelectedHandling='Disabled';this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.cache={};this.cache.events={};this.updateView=function($d,$e){var $d=eval("("+$d+")");if($d.UpdateType==="None"){$c.fireAfterRenderDetached($d.CallBackData,true);return;};$c.events=$d.Events;if($d.UpdateType==="Full"){$c.startDate=$d.StartDate;$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.clearEvents();$c.prepareRows();$c.prepareEvents();if($d.UpdateType==="Full"){$c.clearTable();$c.drawTable();};$c.updateHeight();$c.show();$c.drawEvents();$c.fireAfterRenderDetached($d.CallBackData,true);};this.fireAfterRenderDetached=function($f,$g){var $h=function($f,$i){return function(){if($c.afterRender){$c.afterRender($f,$i);}};};window.setTimeout($h($f,$g),0);};this.lineHeight=function(){return this.eventHeight+this.lineSpace;};this.prepareEvents=function(){for(var x=0;x<this.events.length;x++){var e=this.events[x];e.Start=new DayPilot.Date(e.Start).d;e.End=new DayPilot.Date(e.End).d;if(e.Start.getTime()>e.End.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $j=this.rows[i];if($j.belongsHere(e)){$j.events.push(e);}}};for(var ri=0;ri<this.rows.length;ri++){var $j=this.rows[ri];$j.events.sort(this.eventComparer);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$j.events[ei];var $k=$j.getStartColumn(ev);var $l=$j.getWidth(ev);var $m=$j.putIntoLine(ev,$k,$l,ri);}}};this.clearEvents=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.drawEvents=function(){this.cache.events={};this.drawEventsRows();};this.drawEventsRows=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $j=this.rows[ri];for(var li=0;li<$j.lines.length;li++){var $m=$j.lines[li];for(var pi=0;pi<$m.length;pi++){this.drawEvent($m[pi]);}}}};this.eventComparer=function(a,b){if(!a||!b||!a.Start||!b.Start){return 0;};var $n=a.Start.getTime()-b.Start.getTime();if($n!==0){return $n;};var $o=b.End.getTime()-a.End.getTime();return $o;};this.drawShadow=function(x,y,$m,$p,$q,e){if(!$q){$q=0;};var $r=$p;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$p;var $s=y*7+x-$q;if($s<0){$r+=$s;x=0;y=0;};var $t=$q;while($t>=7){y--;$t-=7;};if($t>x){var $u=7-this.getColCount();if($t>(x+$u)){y--;x=x+7-$t;}else{$r=$r-$t+x;x=0;}}else{x-=$t;};if(y<0){y=0;x=0;};var $v=null;if(DayPilotMonth.resizingEvent){$v='w-resize';}else if(DayPilotMonth.movingEvent){$v="move";};this.nav.top.style.cursor=$v;while($r>0&&y<this.rows.length){var $w=Math.min(this.getColCount()-x,$r);var $j=this.rows[y];var top=this.getRowTop(y);var $x=$j.getHeight();var $y=document.createElement("div");$y.setAttribute("unselectable","on");$y.style.position='absolute';$y.style.left=(this.getCellWidth()*x)+'%';$y.style.width=(this.getCellWidth()*$w)+'%';$y.style.top=(top)+'px';$y.style.height=($x)+'px';$y.style.cursor=$v;var $z=document.createElement("div");$z.setAttribute("unselectable","on");$y.appendChild($z);$z.style.position="absolute";$z.style.top="0px";$z.style.right="0px";$z.style.left="0px";$z.style.bottom="0px";$z.style.backgroundColor="#aaaaaa";$z.style.opacity=0.5;$z.style.filter="alpha(opacity=50)";if(e&&e.eventPart&&e.eventPart.event){$z.style.overflow='hidden';$z.style.fontSize=this.eventFontSize;$z.style.fontFamily=this.eventFontFamily;$z.style.color=this.eventFontColor;$z.innerHTML=e.eventPart.event.InnerHTML?e.eventPart.event.InnerHTML:e.eventPart.event.Text;};this.nav.top.appendChild($y);this.shadow.list.push($y);$r-=($w+7-this.getColCount());x=0;y++;}};this.clearShadow=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.getEventTop=function($j,$m){var top=this.headerHeight;for(var i=0;i<$j;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$m*this.lineHeight();return top;};this.getDateFromCell=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.drawEvent=function($A){var ev=$A.event;var $j=$A.row;var $m=$A.line;var $k=$A.colStart;var $l=$A.colWidth;var $B=this.getCellWidth()*($k);var $p=this.getCellWidth()*($l);var top=this.getEventTop($j,$m);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=this.eventHeight+'px';e.style.fontFamily=this.eventFontFamily;var eo=null;var $C=$A.event.Value;if(this.cache.events[$C]){eo=this.cache.events[$C];}else{eo=new DayPilotMonth.Event($c,$A,$j);this.cache.events[$C]=eo;};e.event=eo;e.style.width=$p+'%';e.style.position='absolute';e.style.left=$B+'%';e.style.top=top+'px';if(this.showToolTip&&ev.ToolTip){e.title=ev.ToolTip;};e.onclick=$c.eventClickDispatch;e.onmousedown=function(ev){ev=ev||window.event;var $D=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($D===1){DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $E={};$E.start={};$E.start.x=$k;$E.start.y=$j;$E.event=e.event;$E.width=DayPilot.Date.daysSpan($E.event.start().d,$E.event.end().d)+1;$E.direction=this.style.cursor;DayPilotMonth.resizingEvent=$E;}else if(this.style.cursor==='move'||$c.eventMoveHandling!=='Disabled'){$c.clearShadow();var $F=DayPilot.mo2($c.nav.top,ev);if(!$F){return;};var $G=$c.getCellBelowPoint($F.x,$F.y);var $s=DayPilot.Date.daysDiff($A.event.Start,$c.rows[$j].start);var $q=($G.y*7+$G.x)-($j*7+$k);if($s){$q+=$s;};var $H={};$H.start={};$H.start.x=$k;$H.start.y=$j;$H.start.line=$m;$H.offset=$c.eventMoveToPosition?0:$q;$H.colWidth=$l;$H.event=e.event;$H.coords=$F;DayPilotMonth.movingEvent=$H;}}};e.onmousemove=function(ev){if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $q=DayPilot.mo3(e,ev);if(!$q){return;};var $I=6;if($q.x<=$I&&$c.eventResizeHandling!=='Disabled'){if($A.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(e.clientWidth-$q.x<=$I&&$c.eventResizeHandling!=='Disabled'){if($A.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';}};e.onmouseout=function(ev){e.style.cursor='';};var back=(ev.BackColor)?ev.BackColor:this.eventBackColor;var $J=document.createElement("div");$J.setAttribute("unselectable","on");$J.style.height=(this.eventHeight-2)+'px';$J.style.overflow='hidden';$J.style.position="absolute";$J.style.left="2px";$J.style.right="2px";$J.style.paddingLeft='2px';$J.style.border='1px solid '+$c.eventBorderColor;$J.style.backgroundColor=back;$J.style.fontFamily="";$J.style.MozBorderRadius="5px";$J.style.webkitBorderRadius="5px";$J.style.borderRadius="5px";var $z=[];$z.push("<div unselectable='on' style='");$z.push("font-size:");$z.push(this.eventFontSize);$z.push(";color:");$z.push(this.eventFontColor);$z.push(";font-family:");$z.push(this.eventFontFamily);$z.push(";'>");$z.push(ev.Text);$z.push("</div>");$J.innerHTML=$z.join('');e.appendChild($J);this.elements.events.push(e);this.nav.events.appendChild(e);};this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth();};this.prepareRows=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};this.startDate=this.startDate.firstDayOfMonth();this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var $K=this.startDate;var $L;var $M=this.lastVisibleDayOfMonth().d;var $N=DayPilot.Date.daysDiff(this.firstDate,$M)+1;$L=Math.ceil($N/7);this.days=$L*7;this.rows=[];for(var x=0;x<$L;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.getColCount());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.End.getTime()===ev.Start.getTime()&&ev.Start.getTime()===this.start.getTime()){return true;};return !(ev.End.getTime()<=this.start.getTime()||ev.Start.getTime()>=this.end.getTime());};r.getPartStart=function(ev){return DayPilot.Date.max(this.start,ev.Start);};r.getPartEnd=function(ev){return DayPilot.Date.min(this.end,ev.End);};r.getStartColumn=function(ev){var $O=this.getPartStart(ev);return DayPilot.Date.daysDiff(this.start,$O);};r.getWidth=function(ev){return DayPilot.Date.daysSpan(this.getPartStart(ev),this.getPartEnd(ev))+1;};r.putIntoLine=function(ev,$k,$l,$j){var $P=this;for(var i=0;i<this.lines.length;i++){var $m=this.lines[i];if($m.isFree($k,$l)){$m.addEvent(ev,$k,$l,$j,i);return i;}};var $m=[];$m.isFree=function($k,$l){var $Q=true;for(var i=0;i<this.length;i++){if(!($k+$l-1<this[i].colStart||$k>this[i].colStart+this[i].colWidth-1)){$Q=false;}};return $Q;};$m.addEvent=function(ev,$k,$l,$j,$R){var $A={};$A.event=ev;$A.colStart=$k;$A.colWidth=$l;$A.row=$j;$A.line=$R;$A.startsHere=$P.start.getTime()<=ev.Start.getTime();$A.endsHere=$P.end.getTime()>=ev.End.getTime();this.push($A);};$m.addEvent(ev,$k,$l,$j,this.lines.length);this.lines.push($m);return this.lines.length-1;};r.getStart=function(){var $S=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$S+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$c.lineHeight()+$c.cellHeaderHeight,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$L*7);};this.getHeight=function(){var $x=this.headerHeight;for(var i=0;i<this.rows.length;i++){$x+=this.rows[i].getHeight();};return $x;};this.getWidth=function($S,end){var $T=(end.y*7+end.x)-($S.y*7+$S.x);return $T+1;};this.getMinCoords=function($U,$V){if(($U.y*7+$U.x)<($V.y*7+$V.x)){return $U;}else{return $V;}};this.drawTop=function(){var $W=this.nav.top;$W.setAttribute("unselectable","on");$W.style.MozUserSelect='none';$W.style.KhtmlUserSelect='none';$W.style.WebkitUserSelect='none';$W.style.position='relative';if(this.width){$W.style.width=this.width;};$W.style.height=this.getHeight()+'px';$W.onselectstart=function(e){return false;};$W.style.border="1px solid "+this.borderColor;if(this.hideUntilInit){$W.style.visibility='hidden';};var $X=document.createElement("div");this.nav.cells=$X;$X.style.position="absolute";$X.style.left="0px";$X.style.right="0px";$X.setAttribute("unselectable","on");$W.appendChild($X);var $Y=document.createElement("div");this.nav.events=$Y;$Y.style.position="absolute";$Y.style.left="0px";$Y.style.right="0px";$Y.setAttribute("unselectable","on");$W.appendChild($Y);$W.onmousemove=function(ev){if(DayPilotMonth.resizingEvent){var $F=DayPilot.mo2($c.nav.top,ev);if(!$F){return;};var $G=$c.getCellBelowPoint($F.x,$F.y);$c.clearShadow();var $E=DayPilotMonth.resizingEvent;var $Z=$E.start;var $p,$S;if($E.direction==='w-resize'){$S=$G;var $00=$E.event.end().d;if(DayPilot.Date.getDate($00).getTime()===$00.getTime()){$00=DayPilot.Date.addDays($00,-1);};var end=$c.getCellFromDate($00);$p=$c.getWidth($G,end);}else{$S=$c.getCellFromDate($E.event.start().d);$p=$c.getWidth($S,$G);};if($p<1){$p=1;};$c.drawShadow($S.x,$S.y,0,$p);}else if(DayPilotMonth.movingEvent){var $F=DayPilot.mo2($c.nav.top,ev);if(!$F){return;};if($F.x==DayPilotMonth.movingEvent.coords.x&&$F.y==DayPilotMonth.movingEvent.coords.y){return;};var $G=$c.getCellBelowPoint($F.x,$F.y);$c.clearShadow();var event=DayPilotMonth.movingEvent.event;var $q=DayPilotMonth.movingEvent.offset;var $p=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($p<1){$p=1;};$c.drawShadow($G.x,$G.y,0,$p,$q,event);}else if(DayPilotMonth.timeRangeSelecting){var $F=DayPilot.mo2($c.nav.top,ev);if(!$F){return;};var $G=$c.getCellBelowPoint($F.x,$F.y);$c.clearShadow();var $S=DayPilotMonth.timeRangeSelecting;var $01=$S.y*7+$S.x;var $02=$G.y*7+$G.x;var $p=Math.abs($02-$01)+1;if($p<1){$p=1;};var $03=$01<$02?$S:$G;DayPilotMonth.timeRangeSelecting.from={x:$03.x,y:$03.y};DayPilotMonth.timeRangeSelecting.width=$p;DayPilotMonth.timeRangeSelecting.moved=true;$c.drawShadow($03.x,$03.y,0,$p,0,null);}};};this.updateHeight=function(){this.nav.top.style.height=this.getHeight()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.getRowTop(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.getCellBelowPoint=function(x,y){var $04=Math.floor(this.nav.top.clientWidth/this.getColCount());var $05=Math.min(Math.floor(x/$04),this.getColCount()-1);var $j=null;var $x=this.headerHeight;var $06=0;for(var i=0;i<this.rows.length;i++){var $07=$x;$x+=this.rows[i].getHeight();if(y<$x){$06=y-$07;$j=i;break;}};if($j===null){$j=this.rows.length-1;};var $G={};$G.x=$05;$G.y=$j;$G.relativeY=$06;return $G;};this.getCellFromDate=function($08){var $p=DayPilot.Date.daysDiff(this.firstDate,$08);var $G={x:0,y:0};while($p>=7){$G.y++;$p-=7;};$G.x=$p;return $G;};this.drawTable=function(){var $09=document.createElement("div");$09.oncontextmenu=function(){return false;};this.nav.cells.appendChild($09);this.cells=[];for(var x=0;x<this.getColCount();x++){this.cells[x]=[];var $0a=null;var $0b=document.createElement("div");$0b.setAttribute("unselectable","on");$0b.style.position='absolute';$0b.style.left=(this.getCellWidth()*x)+'%';$0b.style.width=(this.getCellWidth())+'%';$0b.style.top='0px';$0b.style.height=(this.headerHeight)+'px';var $0c=x+this.getWeekStart();if($0c>6){$0c-=7;};var $J=document.createElement("div");$J.setAttribute("unselectable","on");$J.innerHTML=this.dayNames[$0c];$0b.appendChild($J);$J.style.position="absolute";$J.style.top="0px";$J.style.bottom="0px";$J.style.left="0px";$J.style.right="0px";$J.style.backgroundColor=this.headerBackColor;$J.style.fontFamily=this.headerFontFamily;$J.style.fontSize=this.headerFontSize;$J.style.color=this.headerFontColor;$J.style.textAlign='center';$J.style.cursor='default';if(x!==this.getColCount()-1){$J.style.borderRight='1px solid '+this.borderColor;};$J.innerHTML=this.dayNames[$0c];$09.appendChild($0b);for(var y=0;y<this.rows.length;y++){this.drawCell(x,y,$09);}}};this.clearTable=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.drawCell=function(x,y,$09){var $j=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0d=this.cellProperties?this.cellProperties[y*this.getColCount()+x]:null;var $G=document.createElement("div");$G.setAttribute("unselectable","on");$G.style.position='absolute';$G.style.cursor='default';$G.style.left=(this.getCellWidth()*x)+'%';$G.style.width=(this.getCellWidth())+'%';$G.style.top=(this.getRowTop(y))+'px';$G.style.height=($j.getHeight())+'px';var $0e=this.startDate.addMonths(-1).getMonth();var $0f=this.startDate.addMonths(1).getMonth();var $0g=this.startDate.getMonth();var $J=document.createElement("div");$J.setAttribute("unselectable","on");$G.appendChild($J);$J.style.position="absolute";$J.style.left="0px";$J.style.right="0px";$J.style.top="0px";$J.style.bottom="0px";$J.style.backgroundColor=this.getCellBackColor(d);if(x!==this.getColCount()-1){$J.style.borderRight='1px solid '+this.innerBorderColor;}else{};if(y===0){$J.style.borderTop='1px solid '+this.borderColor;};$J.style.borderBottom='1px solid '+this.innerBorderColor;if(x===this.getColCount()-1){};$G.onmousedown=function(e){if($c.timeRangeSelectedHandling!=='Disabled'){$c.clearShadow();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};$G.onclick=function(){var $0h=function(d){var $S=new DayPilot.Date(d);var end=$S.addDays(1);$c.timeRangeSelectedDispatch($S,end);};if($c.timeRangeSelectedHandling!=='Disabled'){$0h(d);return;}};var $0i=document.createElement("div");$0i.setAttribute("unselectable","on");$0i.style.height=this.cellHeaderHeight+"px";if(this.cellHeaderBackColor){$0i.style.backgroundColor=this.cellHeaderBackColor;};$0i.style.paddingRight='2px';$0i.style.textAlign="right";$0i.style.fontFamily=this.cellHeaderFontFamily;$0i.style.fontSize=this.cellHeaderFontSize;$0i.style.color=this.cellHeaderFontColor;var $08=d.getUTCDate();if($08===1){$0i.innerHTML=this.monthNames[d.getUTCMonth()]+' '+$08;}else{$0i.innerHTML=$08;};$J.appendChild($0i);this.cells[x][y]=$G;$09.appendChild($G);};this.getWeekStart=function(){if(this.showWeekend){return this.weekStarts;}else{return 1;}};this.getColCount=function(){return 7;};this.getCellWidth=function(){return 14.285;};this.getCellBackColor=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.getRowTop=function($R){var top=this.headerHeight;for(var i=0;i<$R;i++){top+=this.rows[i].getHeight();};return top;};this.callBack2=function($0j,$f,$0k){var $0l={};$0l.action=$0j;$0l.parameters=$0k;$0l.data=$f;$0l.header=this.getCallBackHeader();var $0m="JSON"+DayPilot.JSON.stringify($0l);if(this.backendUrl){DayPilot.request(this.backendUrl,this.callBackResponse,$0m,this.ajaxError);}};this.callBackResponse=function($0n){$c.updateView($0n.responseText);};this.getCallBackHeader=function(){var h={};h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.startDate=$c.startDate;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;return h;};this.eventClickCallBack=function(e,$f){this.callBack2('EventClick',$f,e);};this.eventClickDispatch=function(e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var $0o=this;var e=e||window.event;var $0p=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};$c.eventClickSingle($0o,$0p);};this.eventClickSingle=function($0o,$0p){var e=$0o.event;if(!e.clickingAllowed()){return;};switch($c.eventClickHandling){case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;}};this.eventMoveCallBack=function(e,$0q,$0r,$f,$0s){if(!$0q)throw 'newStart is null';if(!$0r)throw 'newEnd is null';var $0t={};$0t.e=e;$0t.newStart=$0q;$0t.newEnd=$0r;$0t.position=$0s;this.callBack2('EventMove',$f,$0t);};this.eventMoveDispatch=function(e,x,y,$q,ev,$0s){var $0u=DayPilot.Date.getTime(e.start().d);var $00=DayPilot.Date.getDate(e.end().d);if($00.getTime()!==e.end().d.getTime()){$00=DayPilot.Date.addDays($00,1);};var $0v=DayPilot.Date.diff(e.end().d,$00);var $0w=this.getDateFromCell(x,y);$0w=DayPilot.Date.addDays($0w,-$q);var $p=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $0x=DayPilot.Date.addDays($0w,$p);var $0q=new DayPilot.Date(DayPilot.Date.addTime($0w,$0u));var $0r=new DayPilot.Date(DayPilot.Date.addTime($0x,$0v));switch($c.eventMoveHandling){case 'CallBack':$c.eventMoveCallBack(e,$0q,$0r,null,$0s);break;case 'JavaScript':$c.onEventMove(e,$0q,$0r,ev.ctrlKey,ev.shiftKey,$0s);break;}};this.eventResizeCallBack=function(e,$0q,$0r,$f){if(!$0q)throw 'newStart is null';if(!$0r)throw 'newEnd is null';var $0t={};$0t.e=e;$0t.newStart=$0q;$0t.newEnd=$0r;this.callBack2('EventResize',$f,$0t);};this.eventResizeDispatch=function(e,$S,$p){var $0u=DayPilot.Date.getTime(e.start().d);var $00=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($00,e.end().d)){$00=DayPilot.Date.addDays($00,1);};var $0v=DayPilot.Date.diff(e.end().d,$00);var $0w=this.getDateFromCell($S.x,$S.y);var $0x=DayPilot.Date.addDays($0w,$p);var $0q=new DayPilot.Date(DayPilot.Date.addTime($0w,$0u));var $0r=new DayPilot.Date(DayPilot.Date.addTime($0x,$0v));switch($c.eventResizeHandling){case 'CallBack':$c.eventResizeCallBack(e,$0q,$0r);break;case 'JavaScript':$c.onEventResize(e,$0q,$0r);break;}};this.timeRangeSelectedCallBack=function($S,end,$f){var $0y={};$0y.start=$S;$0y.end=end;this.callBack2('TimeRangeSelected',$f,$0y);};this.timeRangeSelectedDispatch=function($S,end){switch($c.timeRangeSelectedHandling){case 'CallBack':$c.timeRangeSelectedCallBack($S,end);break;case 'JavaScript':$c.onTimeRangeSelected($S,end);break;}};this.clearSelection=function(){$c.clearShadow();};this.commandCallBack=function($0z,$f){this.stopAutoRefresh();var $0t={};$0t.command=$0z;this.callBack2('Command',$f,$0t);};this.debug=function($0A,$0B){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($0A);if(typeof console!=='undefined'){console.log($0A);}};this.registerGlobalHandlers=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.loadFromServer=function(){return(typeof this.events==='undefined')||(this.events===null);};this.show=function(){if(this.nav.top.style.visibility=='hidden'){this.nav.top.style.visibility='visible';}};this.initShort=function(){this.prepareRows();this.drawTop();this.drawTable();this.registerGlobalHandlers();this.callBack2('Init');};this.Init=function(){var $0C=this.loadFromServer();if($0C){this.initShort();return;};this.prepareRows();this.prepareEvents();this.drawTop();this.drawTable();this.show();this.drawEvents();this.registerGlobalHandlers();if(this.messageHTML){this.message(this.messageHTML);};this.fireAfterRenderDetached(null,false);};};DayPilotMonth.Event=function($c,$A,$j){this.root=$c;this.calendar=$c;this.eventPart=$A;var ev=this;this.value=function(){return $A.event.Value;};this.text=function(){return $A.event.Text;};this.start=function(){return new DayPilot.Date($A.event.Start);};this.end=function(){return new DayPilot.Date($A.event.End);};this.partStart=function(){return $c.rows[$j].getPartStart($A.event);};this.partEnd=function(){return $c.rows[$j].getPartEnd($A.event);};this.data={};this.clickingAllowed=function(){return true;};this.client={};this.toJSON=function($0D){var $0E={};$0E.value=this.value();$0E.text=this.text();$0E.start=this.start();$0E.end=this.end();$0E.resource=null;$0E.isAllDay=false;$0E.tag={};return $0E;};};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $0F=DayPilotMonth.movingEvent;if(!$0F.event){return;};if(!$0F.event.root){return;};if(!$0F.event.root.shadow){return;};if(!$0F.event.root.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.root;var e=DayPilotMonth.movingEvent.event;var $S=$c.shadow.start;var $0s=$c.shadow.position;var $q=DayPilotMonth.movingEvent.offset;$c.clearShadow();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.eventMoveDispatch(e,$S.x,$S.y,$q,ev,$0s);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $0F=DayPilotMonth.resizingEvent;if(!$0F.event){return;};if(!$0F.event.root){return;};if(!$0F.event.root.shadow){return;};if(!$0F.event.root.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.root;var e=DayPilotMonth.resizingEvent.event;var $S=$c.shadow.start;var $p=$c.shadow.width;$c.clearShadow();DayPilotMonth.resizingEvent=null;$c.eventResizeDispatch(e,$S,$p);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0G=DayPilotMonth.timeRangeSelecting;var $c=$0G.root;var $S=new DayPilot.Date($c.getDateFromCell($0G.from.x,$0G.from.y));var end=$S.addDays($0G.width);$c.timeRangeSelectedDispatch($S,end);$c.clearShadow();};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;DayPilot.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($0H){var $U=null;var j=this.each(function(){if(this.daypilot){return;};var $0I=new DayPilot.Month(this.id);this.daypilot=$0I;for(name in $0H){$0I[name]=$0H[name];};$0I.Init();if(!$U){$U=$0I;}});if(this.length===1){return $U;}else{return j;}};})(jQuery);};if(typeof $0J!=='undefined'&&$0J.Application&&$0J.Application.notifyScriptLoaded){$0J.Application.notifyScriptLoaded();}})();

