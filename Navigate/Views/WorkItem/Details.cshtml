@model Navigate.ViewModels.WorkItemDetailsViewModel


<h2>@ViewBag.Pagetitle</h2>

<fieldset>
    <legend>Uzdevums</legend>
    <div class="display-label">
         @Html.DisplayNameFor(model => model.Subject)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Subject)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.Location)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Location)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.Body)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Body)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.WorkItemType)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.WorkItemType)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.CreatedAt)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.CreatedAt)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.UpdatedAt)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.UpdatedAt)
    </div>
    @if (@Model.WorkItemType == Navigate.Models.Classifiers.WorkItemType.Task)
    {
        <label for="EndDateTime" class="editor-label">Termiņš</label>
        <div class="display-field">
            @Html.DisplayFor(model => model.EndDateTime)
        </div>
        
        <label for="Duration" class="editor-label">Novērtētais izpildes ilgums stundās</label>
        <div class="display-field">
            @Html.DisplayFor(model => model.Duration)
        </div>
    }
    else
    {
        if (@Model.isRecurring == false)
        {
            <div class="display-label">
                 @Html.DisplayNameFor(model => model.StartDateTime)
            </div>
            <div class="display-field">
                @Html.DisplayFor(model => model.StartDateTime)
            </div>
        
            <div class="display-label">
                 @Html.DisplayNameFor(model => model.EndDateTime)
            </div>
            <div class="display-field">
                @Html.DisplayFor(model => model.EndDateTime)
            </div>
        
            <div class="display-label">
                @Html.DisplayNameFor(model => model.Duration)
            </div>
            <div class="display-field">
                @Html.DisplayFor(model => model.Duration)
            </div>
        }
        else
        { 
            <p>
                periodisks uzdevums...
            </p>
            <div id="recurringItemsContainer">
                <h4>Periodiskie uzdevumi</h4>
                @Html.Partial("_RecurringItems", Model.RecurringItems.OrderBy(o => o.Start))
            </div>
        }         
    }
</fieldset>
<p>
    @Html.ActionLink("Rediģēt", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Atpakaļ uz sarakstu", "Index")
</p>
